<?phpnamespace Nemundo\App\Mail\Message\Smtp;use Nemundo\App\Mail\Application\MailApplication;use Nemundo\App\Mail\Message\Attachment\FileAttachment;use Nemundo\App\Mail\Message\Base\AbstractMessage;use Nemundo\App\SystemLog\Message\SystemLogMessage;use Nemundo\Core\Validation\EmailValidation;abstract class AbstractSmtpMessage extends AbstractMessage{    /**     * @var string     */    public $subject;    /**     * @var string     */    public $text;    /**     * @var string     */    public $from;    /**     * @var string     */    public $fromText;    /**     * @var bool     */    public $htmlMail = false;    protected $toList = [];    protected $ccList = [];    protected $bccList = [];    /**     * @var FileAttachment[]     */    protected $attachmentList = [];    public function addTo($email)    {        if ($this->validateEmail($email)) {            $this->toList[] = $email;        }        /* if ((new EmailValidation())->isEmail($email)) {             $this->toList[] = $email;         } else {             (new SystemLogMessage())->logError('eMail is not valid: ' . $email);         }*/        return $this;    }    public function addCc($email)    {        if ($this->validateEmail($email)) {            $this->ccList[] = $email;        }        /*  if ((new EmailValidation())->isEmail($email)) {              $this->ccList[] = $email;          } else {              (new SystemLog())->logError('eMail is not valid: ' . $email);          }*/    }    public function addBcc($email)    {        if ($this->validateEmail($email)) {            $this->bccList[] = $email;        }    }    public function addAttachment($filename, $customFilename = null)    {        $fileAttachment = new FileAttachment();        $fileAttachment->filename = $filename;        $fileAttachment->customFilename = $customFilename;        $this->attachmentList[] = $fileAttachment;        return $this;    }    private function validateEmail($email)    {        $returnValue = true;        if (!(new EmailValidation())->isEmail($email)) {            $returnValue = true;            (new SystemLogMessage(new MailApplication()))->logError('eMail is not valid: ' . $email);        }        return $returnValue;    }}