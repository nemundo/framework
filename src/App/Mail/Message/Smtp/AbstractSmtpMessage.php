<?phpnamespace Nemundo\App\Mail\Message\Smtp;use Nemundo\App\Mail\Application\MailApplication;use Nemundo\App\Mail\Message\Attachment\AbstractInlineImageAttachment;use Nemundo\App\Mail\Message\Attachment\InlineImageAttachment;use Nemundo\App\SystemLog\Message\SystemLogMessage;use Nemundo\Core\Base\AbstractBaseClass;use Nemundo\Core\Validation\EmailValidation;abstract class AbstractSmtpMessage extends AbstractBaseClass{    /**     * @var string     */    public $subject;    /**     * @var string     */    public $text;    /**     * @var string     */    public $from;    /**     * @var string     */    public $fromText;    //public $imagePath;    //public $contentType = ResponseType::HTML;    /**     * @var bool     */    public $htmlMail = false;    protected $toList = [];    protected $ccList = [];    protected $bccList = [];    protected $attachmentList = [];    /**     * @var InlineImageAttachment[]     */    protected $inlineImageList = [];    abstract public function sendMail();    public function addTo($email)    {        if ($this->validateEmail($email)) {            $this->toList[] = $email;        }       /* if ((new EmailValidation())->isEmail($email)) {            $this->toList[] = $email;        } else {            (new SystemLogMessage())->logError('eMail is not valid: ' . $email);        }*/        return $this;    }    public function addCc($email)    {        if ($this->validateEmail($email)) {            $this->ccList[] = $email;        }        /*  if ((new EmailValidation())->isEmail($email)) {              $this->ccList[] = $email;          } else {              (new SystemLog())->logError('eMail is not valid: ' . $email);          }*/    }    public function addBcc($email)    {        if ($this->validateEmail($email)) {            $this->bccList[] = $email;        }    }    public function addInlineImage(AbstractInlineImageAttachment $inlineImage)    {        /*$inlineImage = new InlineImageAttachment();        $inlineImage->cid = $cid;        $inlineImage->filename = $filename;*/        $this->inlineImageList[] = $inlineImage;        return $this;    }    public function addAttachment($filename)    {        $this->attachmentList[] = $filename;        return $this;    }    private function validateEmail($email)    {        $returnValue = true;        if (!(new EmailValidation())->isEmail($email)) {            $returnValue = true;            (new SystemLogMessage(new MailApplication()))->logError('eMail is not valid: ' . $email);        }        return $returnValue;    }}