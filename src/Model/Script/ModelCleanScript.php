<?phpnamespace Nemundo\Model\Script;use Nemundo\App\Script\Type\AbstractConsoleScript;use Nemundo\Core\Console\ConsoleInput;use Nemundo\Core\Debug\Debug;use Nemundo\Core\TextFile\Reader\TextFileReader;use Nemundo\Db\Provider\MySql\Table\MySqlTable;use Nemundo\Db\Provider\MySql\Table\MySqlTableReader;use Nemundo\Model\Path\SetupLogPath;class ModelCleanScript extends AbstractConsoleScript{    protected function loadScript()    {        $this->scriptName = 'model-clean';    }    public function run()    {        foreach ($this->getTableList() as $tableName) {            (new Debug())->write($tableName);        }        $input = new ConsoleInput();        $input->message='Delete all tables? (yes/no)';        $input->defaultValue='no';        if ($input->getValue()=='yes') {            foreach ($this->getTableList() as $tableName) {                (new Debug())->write('Delete table: '.$tableName);                $table=new MySqlTable($tableName);                $table->dropTable();            }        }    }    private function getTableList() {        $filename=(new SetupLogPath())->getFullFilename();        $txtFile=new TextFileReader($filename);        $lineList = $txtFile->getData();        $tableNameList=[];        $tableReader = new MySqlTableReader();        foreach ($tableReader->getData() as $mySqlTable) {            $tableName = $mySqlTable->tableName;            if (!in_array($tableName,$lineList)) {                $tableNameList[]=$tableName;            }        }        return $tableNameList;    }}