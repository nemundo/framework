<?php

namespace Nemundo\User\Com\Table;

use Nemundo\Admin\Com\Table\AdminTable;
use Nemundo\Admin\Com\Table\AdminTableHeader;
use Nemundo\Core\Directory\TextDirectory;
use Nemundo\User\Data\UserUsergroup\UserUsergroupReader;

class UserUsergroupTable extends AdminTable
{

    public $userId;

    public function getContent()
    {

        $header = new AdminTableHeader($this);
        //$header->add

        $userUsergroupReader = new UserUsergroupReader();
        $userUsergroupReader->model->loadUser();
        $userUsergroupReader->model->loadUsergroup();
        $userUsergroupReader->filter->andEqual($userUsergroupReader->model->userId, $this->userId);

        $usergroup = new TextDirectory();
        foreach ($userUsergroupReader->getData() as $userUsergroupRow) {
            $usergroup->addValue($userUsergroupRow->usergroup->usergroup);
        }

        return parent::getContent(); // TODO: Change the autogenerated stub
    }

}