<?phpnamespace Nemundo\User\Mail;use Nemundo\Admin\Mail\AdminMailTemplate;use Nemundo\App\Mail\Com\Document\AbstractActionMailHtmlDocument;use Nemundo\App\Mail\Message\Mail\AbstractMailMessage;use Nemundo\App\UserAction\Site\UserActivationSite;use Nemundo\User\Data\User\UserReader;use Nemundo\User\Parameter\SecureTokenParameter;class UserMail extends AbstractMailMessage{    /**     * @var string     */    public $userId;    /**     * @var AbstractActionMailHtmlDocument     */    public $mailDocument;    public function sendMail()    {        $this->subject = 'User Login';        $userRow = (new UserReader())->getRowById($this->userId);        $this->mailTo = $userRow->email;        /*$div = new Div();        $p = new Paragraph($div);        $p->content = 'Login: ' . $userRow->login;*/        $this->mailDocument->mailTitle =  $this->subject;        $site = clone(UserActivationSite::$site);        $site->addParameter(new SecureTokenParameter($userRow->secureToken));        $this->mailDocument->actionSite= $site;        /*$link = new UrlHyperlink($div);        $link->content = $site->title;        $link->url = WebConfig::$domain . $site->getUrl();*/        $template = clone($this->mailDocument);        $template->mailText = 'Login: ' . $userRow->login;  // $div->getBodyContent();        $this->text = $template->getHtml();        parent::sendMail();    }    /*protected function loadMailContainer()    {        $this->subject = 'User Login';    }    public function getContent()    {        $userRow = (new UserReader())->getRowById($this->userId);        $p = new Paragraph($this);        $p->content = 'Login: ' . $userRow->login;        $site = clone(UserActivationSite::$site);        $site->addParameter(new SecureTokenParameter($userRow->secureToken));        $link = new UrlHyperlink($this);        $link->content = $site->title;        $link->url = $site->getUrlWithDomain();        return parent::getContent();    }*/}